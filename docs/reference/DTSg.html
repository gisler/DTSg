<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>DTSg Class — DTSg • DTSg</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/readable/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="DTSg Class — DTSg" />
<meta property="og:description" content="The DTSg class is the working horse of the package. It is an
 R6Class and offers an S3 interface in addition to its
 native R6 interface. In the usage sections of the documentation only the S3
 interface is shown, however, the examples always show both possibilities.
 Generally, they are very similar anyway. While the R6 interface always has
 the object first and the method is selected with the help of the $
 operator (for instance, x$cols()), the S3 interface always has the
 method first and the object as its first argument (for instance,
 cols(x)). An exception is the new method. It is not an S3
 method, but an abused S4 constructor with the character string &quot;DTSg&quot;
 as its first argument. Regarding the R6 interface, the DTSg class
 generator has to be used to access the new method with the help of
 the $ operator." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">DTSg</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.7.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/a_basicUsage.html">A. Basic Usage</a>
    </li>
    <li>
      <a href="../articles/b_advancedUsage.html">B. Advanced Usage</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/gisler/DTSg/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>DTSg Class</h1>
    <small class="dont-index">Source: <a href='https://github.com/gisler/DTSg/blob/master/R/ClassDTSg.R'><code>R/ClassDTSg.R</code></a></small>
    <div class="hidden name"><code>DTSg.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The <code>DTSg</code> class is the working horse of the package. It is an
 <code><a href='https://rdrr.io/pkg/R6/man/R6Class.html'>R6Class</a></code> and offers an S3 interface in addition to its
 native R6 interface. In the usage sections of the documentation only the S3
 interface is shown, however, the examples always show both possibilities.
 Generally, they are very similar anyway. While the R6 interface always has
 the object first and the method is selected with the help of the <code>$</code>
 operator (for instance, <code>x$cols()</code>), the S3 interface always has the
 method first and the object as its first argument (for instance,
 <code><a href='cols.DTSg.html'>cols(x)</a></code>). An exception is the <code>new</code> method. It is not an S3
 method, but an abused S4 constructor with the character string <code>"DTSg"</code>
 as its first argument. Regarding the R6 interface, the <code>DTSg</code> class
 generator has to be used to access the <code>new</code> method with the help of
 the <code>$</code> operator.</p>
    </div>

    <pre class="usage"><span class='fu'>new</span>(<span class='no'>Class</span>, <span class='no'>values</span>, <span class='kw'>ID</span> <span class='kw'>=</span> <span class='st'>""</span>, <span class='kw'>parameter</span> <span class='kw'>=</span> <span class='st'>""</span>, <span class='kw'>unit</span> <span class='kw'>=</span> <span class='st'>""</span>, <span class='kw'>variant</span> <span class='kw'>=</span> <span class='st'>""</span>,
 <span class='kw'>aggregated</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>fast</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>swallow</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>na.status</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"explicit"</span>,
 <span class='st'>"implicit"</span>, <span class='st'>"undecided"</span>))</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>Class</th>
      <td><p>A character string. Must be <code>"DTSg"</code> in order to create a
<code>DTSg</code> object. Otherwise a different object may or may not be created
(S4 constructor only).</p></td>
    </tr>
    <tr>
      <th>values</th>
      <td><p>A <code><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></code> or object inherited from class
<code><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></code>, for instance,
<code><a href='https://Rdatatable.gitlab.io/data.table/reference/data.table.html'>data.table</a></code>. Its first column must be of class
<code><a href='https://rdrr.io/r/base/DateTimeClasses.html'>POSIXct</a></code> or coercible to it. It serves as the object's time
index and is renamed to <em>.dateTime.</em></p></td>
    </tr>
    <tr>
      <th>ID</th>
      <td><p>A character string specifying the ID (name) of the time series.</p></td>
    </tr>
    <tr>
      <th>parameter</th>
      <td><p>A character string specifying the parameter of the time
series.</p></td>
    </tr>
    <tr>
      <th>unit</th>
      <td><p>A character string specifying the unit of the time series.</p></td>
    </tr>
    <tr>
      <th>variant</th>
      <td><p>A character string specifying further metadata of the time
series, for instance, <code>"min"</code> to point out that it is a time series of
lower bound measurements.</p></td>
    </tr>
    <tr>
      <th>aggregated</th>
      <td><p>A logical signalling how the timestamps of the series have
to be interpreted: as snap-shots (<code>FALSE</code>) or as periods between
subsequent timestamps (<code>TRUE</code>).</p></td>
    </tr>
    <tr>
      <th>fast</th>
      <td><p>A logical signalling if all rows (<code>FALSE</code>) or only the first
1000 rows (<code>TRUE</code>) shall be used to check the object's integrity and
for the automatic detection of the time series' periodicity.</p></td>
    </tr>
    <tr>
      <th>swallow</th>
      <td><p>A logical signalling if the object provided through the
<code>values</code> argument shall be &#8220;swallowed&#8221; by the <code>DTSg</code>
object, i.e. no copy of the data shall be made. This is generally more
resource efficient, but only works if the object provided through the
<code>values</code> argument is a <code><a href='https://Rdatatable.gitlab.io/data.table/reference/data.table.html'>data.table</a></code>. Be warned,
however, that if the creation of the <code>DTSg</code> object fails for some
reason, the first column of the provided
<code><a href='https://Rdatatable.gitlab.io/data.table/reference/data.table.html'>data.table</a></code> might have been coerced to
<code><a href='https://rdrr.io/r/base/DateTimeClasses.html'>POSIXct</a></code> and keyed (see <code><a href='https://Rdatatable.gitlab.io/data.table/reference/setkey.html'>setkey</a></code> for
further information). Furthermore, all references to the &#8220;swallowed&#8221;
<code><a href='https://Rdatatable.gitlab.io/data.table/reference/data.table.html'>data.table</a></code> in the global (and only the global)
environment are removed upon successful creation of a <code>DTSg</code> object.</p></td>
    </tr>
    <tr>
      <th>na.status</th>
      <td><p>A character string. Either <code>"explicit"</code>, which makes
missing timestamps according to the recognised periodicity explicit, or
<code>"implicit"</code>, which removes timestamps with missing values on all value
columns, or <code>"undecided"</code> for no such action. Please note that
<code>DTSg</code> objects work best with explicitly missing values.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Returns a <code>DTSg</code> object.</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>Due to the <code><a href='https://rdrr.io/r/base/DateTimeClasses.html'>POSIXct</a></code> nature of the <em>.dateTime</em> column, the
 same sub-second accuracy, issues and limitations apply to <code>DTSg</code>
 objects. In order to prevent at least some of the possible precision issues,
 the lags in seconds between subsequent timestamps are rounded to
 microseconds during integrity checks. This corresponds to the maximum value
 allowed for <code><a href='https://rdrr.io/r/base/options.html'>options</a>("digits.secs")</code>. As a consequence, time
 series with a sub-second accuracy higher than a microsecond will never work.</p>
<p>Some of the methods which take a function as an argument
 (<code><a href='colapply.DTSg.html'>colapply</a></code> and <code><a href='rollapply.DTSg.html'>rollapply</a></code>) hand over to it an
 additional <code><a href='https://rdrr.io/r/base/list.html'>list</a></code> argument called <code>.helpers</code> containing
 useful data for the development of user defined functions (see the
 respective help pages for further information). This can of course be a
 problem for functions like <code><a href='https://rdrr.io/r/base/cumsum.html'>cumsum</a></code> which do not expect such a
 thing. A solution is to set the <code>helpers</code> argument of the respective
 method to <code>FALSE</code>.</p>
    <h2 class="hasAnchor" id="methods"><a class="anchor" href="#methods"></a>Methods</h2>

    

<p>A <code>DTSg</code> object has the following methods:</p><ul>
<li><p><code>aggregate</code>: See <code><a href='aggregate.DTSg.html'>aggregate</a></code> for further
     information.</p></li>
<li><p><code>alter</code>: See <code><a href='alter.DTSg.html'>alter</a></code> for further information.</p></li>
<li><p><code>clone</code>: See <code><a href='clone.DTSg.html'>clone</a></code> for further information.</p></li>
<li><p><code>colapply</code>: See <code><a href='colapply.DTSg.html'>colapply</a></code> for further information.</p></li>
<li><p><code>cols</code>: See <code><a href='cols.DTSg.html'>cols</a></code> for further information.</p></li>
<li><p><code>getCol</code>: See <code><a href='getCol.DTSg.html'>getCol</a></code> for further information.</p></li>
<li><p><code>merge</code>: See <code><a href='merge.DTSg.html'>merge</a></code> for further information.</p></li>
<li><p><code>nas</code>: See <code><a href='nas.DTSg.html'>nas</a></code> for further information.</p></li>
<li><p><code>plot</code>: See <code><a href='plot.DTSg.html'>plot</a></code> for further information.</p></li>
<li><p><code>print</code>: See <code><a href='print.DTSg.html'>print</a></code> for further information.</p></li>
<li><p><code>refresh</code>: See <code><a href='refresh.DTSg.html'>refresh</a></code> for further information.</p></li>
<li><p><code>rollapply</code>: See <code><a href='rollapply.DTSg.html'>rollapply</a></code> for further
     information.</p></li>
<li><p><code>rowaggregate</code>: See <code><a href='rowaggregate.DTSg.html'>rowaggregate</a></code> for further
     information.</p></li>
<li><p><code>rowbind</code>: See <code><a href='rowbind.DTSg.html'>rowbind</a></code> for further information.</p></li>
<li><p><code>setColNames</code>: See <code><a href='setColNames.DTSg.html'>setColNames</a></code> for further
     information.</p></li>
<li><p><code>setCols</code>: See <code><a href='setCols.DTSg.html'>setCols</a></code> for further information.</p></li>
<li><p><code>subset</code>: See <code><a href='subset.DTSg.html'>subset</a></code> for further information.</p></li>
<li><p><code>summary</code>: See <code><a href='summary.DTSg.html'>summary</a></code> for further information.</p></li>
<li><p><code>values</code>: See <code><a href='values.DTSg.html'>values</a></code> for further information.</p></li>
</ul>

    <h2 class="hasAnchor" id="fields"><a class="anchor" href="#fields"></a>Fields</h2>

    

<p>A <code>DTSg</code> object has the following fields or properties as they are often
 called. They are implemented through so called active bindings which means
 that they can be accessed and actively set with the help of the <code>$</code>
 operator (for instance, <code>x$ID</code> gets the value of the <em>ID</em> field
 and <code>x$ID &lt;- "River Flow"</code> sets its value). Please note that fields are
 always modified in place, i.e. no clone (copy) of the object is made
 beforehand. See <code><a href='clone.DTSg.html'>clone</a></code> for further information. Some of the
 fields are read-only though:</p><ul>
<li><p><em>aggregated:</em> Same as <code>aggregated</code> argument.</p></li>
<li><p><em>fast:</em> Same as <code>fast</code> argument.</p></li>
<li><p><em>ID:</em> Same as <code>ID</code> argument. It is used as the title of
     plots.</p></li>
<li><p><em>na.status:</em> Same as <code>na.status</code> argument. When set, the
     <em>values</em> of the object are expanded or collapsed accordingly.</p></li>
<li><p><em>parameter:</em> Same as <code>parameter</code> argument. It is used as
     the label of the primary axis of plots.</p></li>
<li><p><em>periodicity:</em> A <code><a href='https://rdrr.io/r/base/difftime.html'>difftime</a></code> object for a regular
     and a character string for an irregular <code>DTSg</code> object describing
     its periodicity or containing <code>"unrecognised"</code> in case it could not
     be detected. When set, the periodicity of the time series is changed as
     specified. See <code>by</code> argument of <code><a href='alter.DTSg.html'>alter</a></code> for further
     information.</p></li>
<li><p><em>regular:</em> A logical signalling if all lags in seconds between
     subsequent timestamps are the same (<code>TRUE</code>) or if some are
     different (<code>FALSE</code>). A, for instance, monthly time series is
     considered irregular in this sense (read-only).</p></li>
<li><p><em>timestamps:</em> An integer showing the total number of timestamps
     of the time series (read-only).</p></li>
<li><p><em>timezone:</em> A character string containing the time zone of the
     time series. When set, the series is converted to the specified time
     zone. Only names from <code><a href='https://rdrr.io/r/base/timezones.html'>OlsonNames</a></code> are accepted.</p></li>
<li><p><em>unit:</em> Same as <code>unit</code> argument. It is added to the label
     of the primary axis of plots when the <em>parameter</em> field is set.</p></li>
<li><p><em>variant:</em> Same as <code>variant</code> argument. It is added to the
     label of the primary axis of plots when the <em>parameter</em> field is
     set.</p></li>
</ul>

<p>The <em>parameter</em>, <em>unit</em> and <em>variant</em> fields are especially
 useful for time series with a single variable (value column) only.</p>
    <h2 class="hasAnchor" id="options"><a class="anchor" href="#options"></a>Options</h2>

    

<p>The behaviour of <code>DTSg</code> objects can be customised with the help of the
 following option. See <code><a href='https://rdrr.io/r/base/options.html'>options</a></code> for further information:</p><ul>
<li><p><em>DTSgClone:</em> A logical specifying if <code>DTSg</code> objects are,
     by default, modified in place (<code>FALSE</code>) or if a clone (copy) is
     made beforehand (<code>TRUE</code>).</p></li>
</ul>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='https://rdrr.io/pkg/R6/man/R6Class.html'>R6Class</a></code>, <code><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></code>,
 <code><a href='https://Rdatatable.gitlab.io/data.table/reference/data.table.html'>data.table</a></code>, <code><a href='https://rdrr.io/r/base/DateTimeClasses.html'>POSIXct</a></code>,
 <code><a href='https://Rdatatable.gitlab.io/data.table/reference/setkey.html'>setkey</a></code>, <code><a href='https://rdrr.io/r/base/difftime.html'>difftime</a></code>,
 <code><a href='https://rdrr.io/r/base/timezones.html'>OlsonNames</a></code>, <code><a href='https://rdrr.io/r/base/options.html'>options</a></code>, <code><a href='https://rdrr.io/r/base/list.html'>list</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># new DTSg object</span>
<span class='co'>## R6 constructor</span>
<span class='no'>DTSg</span>$<span class='fu'>new</span>(<span class='kw'>values</span> <span class='kw'>=</span> <span class='no'>flow</span>, <span class='kw'>ID</span> <span class='kw'>=</span> <span class='st'>"River Flow"</span>)</div><div class='output co'>#&gt; Values:
#&gt;        .dateTime   flow
#&gt;           &lt;POSc&gt;  &lt;num&gt;
#&gt;    1: 2007-01-01  9.540
#&gt;    2: 2007-01-02  9.285
#&gt;    3: 2007-01-03  8.940
#&gt;    4: 2007-01-04  8.745
#&gt;    5: 2007-01-05  8.490
#&gt;   ---                  
#&gt; 2188: 2012-12-27 26.685
#&gt; 2189: 2012-12-28 28.050
#&gt; 2190: 2012-12-29 23.580
#&gt; 2191: 2012-12-30 18.840
#&gt; 2192: 2012-12-31 17.250
#&gt; 
#&gt; ID:             River Flow
#&gt; Aggregated:     FALSE
#&gt; Regular:        TRUE
#&gt; Periodicity:    Time difference of 1 days
#&gt; Missing values: explicit
#&gt; Time zone:      UTC
#&gt; Timestamps:     2192</div><div class='input'>
<span class='co'>## S4 constructor</span>
<span class='fu'>new</span>(<span class='kw'>Class</span> <span class='kw'>=</span> <span class='st'>"DTSg"</span>, <span class='kw'>values</span> <span class='kw'>=</span> <span class='no'>flow</span>, <span class='kw'>ID</span> <span class='kw'>=</span> <span class='st'>"River Flow"</span>)</div><div class='output co'>#&gt; Values:
#&gt;        .dateTime   flow
#&gt;           &lt;POSc&gt;  &lt;num&gt;
#&gt;    1: 2007-01-01  9.540
#&gt;    2: 2007-01-02  9.285
#&gt;    3: 2007-01-03  8.940
#&gt;    4: 2007-01-04  8.745
#&gt;    5: 2007-01-05  8.490
#&gt;   ---                  
#&gt; 2188: 2012-12-27 26.685
#&gt; 2189: 2012-12-28 28.050
#&gt; 2190: 2012-12-29 23.580
#&gt; 2191: 2012-12-30 18.840
#&gt; 2192: 2012-12-31 17.250
#&gt; 
#&gt; ID:             River Flow
#&gt; Aggregated:     FALSE
#&gt; Regular:        TRUE
#&gt; Periodicity:    Time difference of 1 days
#&gt; Missing values: explicit
#&gt; Time zone:      UTC
#&gt; Timestamps:     2192</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Gerold Hepp.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


